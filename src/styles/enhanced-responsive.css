
@layer utilities {
  /* Enhanced responsive breakpoints with comprehensive device coverage */
  
  /* Ultra small devices (320px) */
  .xs\:text-xs { @media (min-width: 320px) { font-size: 0.75rem; line-height: 1rem; } }
  .xs\:text-sm { @media (min-width: 320px) { font-size: 0.875rem; line-height: 1.25rem; } }
  .xs\:p-1 { @media (min-width: 320px) { padding: 0.25rem; } }
  .xs\:p-2 { @media (min-width: 320px) { padding: 0.5rem; } }
  .xs\:p-3 { @media (min-width: 320px) { padding: 0.75rem; } }
  .xs\:gap-1 { @media (min-width: 320px) { gap: 0.25rem; } }
  .xs\:gap-2 { @media (min-width: 320px) { gap: 0.5rem; } }
  .xs\:space-y-1 > :not([hidden]) ~ :not([hidden]) { @media (min-width: 320px) { margin-top: 0.25rem; } }
  .xs\:space-y-2 > :not([hidden]) ~ :not([hidden]) { @media (min-width: 320px) { margin-top: 0.5rem; } }
  .xs\:w-6 { @media (min-width: 320px) { width: 1.5rem; } }
  .xs\:h-6 { @media (min-width: 320px) { height: 1.5rem; } }
  .xs\:w-8 { @media (min-width: 320px) { width: 2rem; } }
  .xs\:h-8 { @media (min-width: 320px) { height: 2rem; } }
  .xs\:px-1 { @media (min-width: 320px) { padding-left: 0.25rem; padding-right: 0.25rem; } }
  .xs\:px-2 { @media (min-width: 320px) { padding-left: 0.5rem; padding-right: 0.5rem; } }
  .xs\:py-0 { @media (min-width: 320px) { padding-top: 0px; padding-bottom: 0px; } }
  .xs\:py-1 { @media (min-width: 320px) { padding-top: 0.25rem; padding-bottom: 0.25rem; } }
  .xs\:flex-col { @media (min-width: 320px) { flex-direction: column; } }
  .xs\:grid-cols-1 { @media (min-width: 320px) { grid-template-columns: repeat(1, minmax(0, 1fr)); } }
  .xs\:max-w-\[80\%\] { @media (min-width: 320px) { max-width: 80%; } }
  .xs\:min-h-\[50px\] { @media (min-width: 320px) { min-height: 50px; } }
  .xs\:h-\[calc\(100vh-180px\)\] { @media (min-width: 320px) { height: calc(100vh - 180px); } }
  .xs\:h-\[calc\(100\%-100px\)\] { @media (min-width: 320px) { height: calc(100% - 100px); } }
  .xs\:-translate-x-full { @media (min-width: 320px) { transform: translateX(-100%); } }

  /* Small mobile devices (375px) */
  .sm-mobile\:text-sm { @media (min-width: 375px) { font-size: 0.875rem; line-height: 1.25rem; } }
  .sm-mobile\:text-base { @media (min-width: 375px) { font-size: 1rem; line-height: 1.5rem; } }
  .sm-mobile\:p-3 { @media (min-width: 375px) { padding: 0.75rem; } }
  .sm-mobile\:p-4 { @media (min-width: 375px) { padding: 1rem; } }
  .sm-mobile\:gap-2 { @media (min-width: 375px) { gap: 0.5rem; } }
  .sm-mobile\:gap-3 { @media (min-width: 375px) { gap: 0.75rem; } }
  .sm-mobile\:space-y-2 > :not([hidden]) ~ :not([hidden]) { @media (min-width: 375px) { margin-top: 0.5rem; } }
  .sm-mobile\:space-y-3 > :not([hidden]) ~ :not([hidden]) { @media (min-width: 375px) { margin-top: 0.75rem; } }
  .sm-mobile\:w-4 { @media (min-width: 375px) { width: 1rem; } }
  .sm-mobile\:h-4 { @media (min-width: 375px) { height: 1rem; } }
  .sm-mobile\:w-8 { @media (min-width: 375px) { width: 2rem; } }
  .sm-mobile\:h-8 { @media (min-width: 375px) { height: 2rem; } }
  .sm-mobile\:w-10 { @media (min-width: 375px) { width: 2.5rem; } }
  .sm-mobile\:h-10 { @media (min-width: 375px) { height: 2.5rem; } }
  .sm-mobile\:px-3 { @media (min-width: 375px) { padding-left: 0.75rem; padding-right: 0.75rem; } }
  .sm-mobile\:py-2 { @media (min-width: 375px) { padding-top: 0.5rem; padding-bottom: 0.5rem; } }
  .sm-mobile\:flex-row { @media (min-width: 375px) { flex-direction: row; } }
  .sm-mobile\:grid-cols-2 { @media (min-width: 375px) { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
  .sm-mobile\:max-w-\[75\%\] { @media (min-width: 375px) { max-width: 75%; } }
  .sm-mobile\:min-h-\[60px\] { @media (min-width: 375px) { min-height: 60px; } }
  .sm-mobile\:h-9 { @media (min-width: 375px) { height: 2.25rem; } }
  .sm-mobile\:-translate-x-full { @media (min-width: 375px) { transform: translateX(-100%); } }

  /* Large mobile devices (428px) */
  .lg-mobile\:text-base { @media (min-width: 428px) { font-size: 1rem; line-height: 1.5rem; } }
  .lg-mobile\:text-lg { @media (min-width: 428px) { font-size: 1.125rem; line-height: 1.75rem; } }
  .lg-mobile\:p-4 { @media (min-width: 428px) { padding: 1rem; } }
  .lg-mobile\:gap-4 { @media (min-width: 428px) { gap: 1rem; } }
  .lg-mobile\:space-y-4 > :not([hidden]) ~ :not([hidden]) { @media (min-width: 428px) { margin-top: 1rem; } }
  .lg-mobile\:flex-col { @media (min-width: 428px) { flex-direction: column; } }
  .lg-mobile\:grid-cols-3 { @media (min-width: 428px) { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
  .lg-mobile\:-translate-x-full { @media (min-width: 428px) { transform: translateX(-100%); } }

  /* Tablet portrait (768px) - Standard md breakpoint enhanced */
  .md\:w-80 { @media (min-width: 768px) { width: 20rem; } }
  .md\:h-auto { @media (min-width: 768px) { height: auto; } }
  .md\:transform-none { @media (min-width: 768px) { transform: none; } }
  .md\:z-auto { @media (min-width: 768px) { z-index: auto; } }
  .md\:relative { @media (min-width: 768px) { position: relative; } }
  .md\:border-r { @media (min-width: 768px) { border-right-width: 1px; } }
  .md\:bg-muted\/20 { @media (min-width: 768px) { background-color: hsl(var(--muted) / 0.2); } }
  .md\:flex { @media (min-width: 768px) { display: flex; } }
  .md\:flex-row { @media (min-width: 768px) { flex-direction: row; } }
  .md\:h-10 { @media (min-width: 768px) { height: 2.5rem; } }
  .md\:h-\[calc\(100vh-220px\)\] { @media (min-width: 768px) { height: calc(100vh - 220px); } }
  .md\:h-\[calc\(100\%-140px\)\] { @media (min-width: 768px) { height: calc(100% - 140px); } }

  /* Large tablet (834px) */
  .lg-tablet\:text-lg { @media (min-width: 834px) { font-size: 1.125rem; line-height: 1.75rem; } }
  .lg-tablet\:p-5 { @media (min-width: 834px) { padding: 1.25rem; } }
  .lg-tablet\:gap-5 { @media (min-width: 834px) { gap: 1.25rem; } }

  /* Desktop small (1024px) - Standard lg breakpoint enhanced */
  .lg\:w-80 { @media (min-width: 1024px) { width: 20rem; } }

  /* Desktop medium (1280px) - Standard xl breakpoint enhanced */
  .xl\:w-96 { @media (min-width: 1280px) { width: 24rem; } }
  .xl\:p-6 { @media (min-width: 1280px) { padding: 1.5rem; } }
  .xl\:gap-6 { @media (min-width: 1280px) { gap: 1.5rem; } }
  .xl\:space-y-6 > :not([hidden]) ~ :not([hidden]) { @media (min-width: 1280px) { margin-top: 1.5rem; } }
  .xl\:text-xl { @media (min-width: 1280px) { font-size: 1.25rem; line-height: 1.75rem; } }
  .xl\:h-\[calc\(100vh-240px\)\] { @media (min-width: 1280px) { height: calc(100vh - 240px); } }

  /* Desktop large (1440px) */
  .xl-desktop\:w-\[420px\] { @media (min-width: 1440px) { width: 420px; } }
  .xl-desktop\:p-7 { @media (min-width: 1440px) { padding: 1.75rem; } }
  .xl-desktop\:text-xl { @media (min-width: 1440px) { font-size: 1.25rem; line-height: 1.75rem; } }

  /* Desktop ultra-wide (1920px) - Standard 2xl breakpoint enhanced */
  .\32xl\:w-\[400px\] { @media (min-width: 1536px) { width: 400px; } }
  .\32xl\:w-\[480px\] { @media (min-width: 1920px) { width: 480px; } }
  .\32xl\:p-8 { @media (min-width: 1920px) { padding: 2rem; } }
  .\32xl\:text-2xl { @media (min-width: 1920px) { font-size: 1.5rem; line-height: 2rem; } }

  /* Container responsive with fluid scaling */
  .container-responsive {
    @apply w-full mx-auto;
    padding-left: clamp(1rem, 4vw, 3rem);
    padding-right: clamp(1rem, 4vw, 3rem);
    max-width: 1400px;
  }

  /* Touch-friendly targets */
  .touch-target {
    min-height: clamp(44px, 10vw, 48px);
    min-width: clamp(44px, 10vw, 48px);
  }

  /* Responsive typography scale */
  .text-responsive-xs { font-size: clamp(0.75rem, 2vw, 0.875rem); }
  .text-responsive-sm { font-size: clamp(0.875rem, 2.5vw, 1rem); }
  .text-responsive-base { font-size: clamp(1rem, 3vw, 1.125rem); }
  .text-responsive-lg { font-size: clamp(1.125rem, 3.5vw, 1.25rem); }
  .text-responsive-xl { font-size: clamp(1.25rem, 4vw, 1.5rem); }

  /* Responsive spacing utilities */
  .space-y-responsive > :not([hidden]) ~ :not([hidden]) {
    margin-top: clamp(1rem, 3vw, 2rem);
  }

  .space-x-responsive > :not([hidden]) ~ :not([hidden]) {
    margin-left: clamp(0.5rem, 2vw, 1.5rem);
  }

  /* Mobile-first grid patterns */
  .grid-responsive-auto {
    grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
  }

  .grid-responsive-cards {
    grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
  }

  /* Better scroll behavior */
  .scroll-smooth-enhanced {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Performance optimizations */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
  }

  /* Accessibility improvements */
  .mobile-safe-area {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Text overflow handling with responsive line clamping */
  .line-clamp-responsive-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-responsive-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  @media (max-width: 374px) {
    .line-clamp-responsive-2 {
      -webkit-line-clamp: 3;
    }
  }

  /* Enhanced breakword handling for chat messages */
  .break-words-responsive {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
  }
}

/* Enhanced mobile-first breakpoints with better coverage */
@media (max-width: 320px) {
  .ultra-small\:text-xs { font-size: 0.75rem; line-height: 1rem; }
  .ultra-small\:p-1 { padding: 0.25rem; }
  .ultra-small\:gap-1 { gap: 0.25rem; }
}

@media (min-width: 320px) and (max-width: 374px) {
  .xs-only\:text-xs { font-size: 0.75rem; line-height: 1rem; }
  .xs-only\:p-2 { padding: 0.5rem; }
}

@media (min-width: 375px) and (max-width: 427px) {
  .sm-mobile-only\:text-sm { font-size: 0.875rem; line-height: 1.25rem; }
  .sm-mobile-only\:p-3 { padding: 0.75rem; }
}

@media (min-width: 428px) and (max-width: 767px) {
  .lg-mobile-only\:text-base { font-size: 1rem; line-height: 1.5rem; }
  .lg-mobile-only\:p-4 { padding: 1rem; }
}

@media (min-width: 768px) and (max-width: 833px) {
  .tablet-portrait\:w-72 { width: 18rem; }
  .tablet-portrait\:text-base { font-size: 1rem; line-height: 1.5rem; }
}

@media (min-width: 834px) and (max-width: 1023px) {
  .tablet-landscape\:w-80 { width: 20rem; }
  .tablet-landscape\:text-lg { font-size: 1.125rem; line-height: 1.75rem; }
}

@media (min-width: 1024px) and (max-width: 1279px) {
  .desktop-sm\:w-96 { width: 24rem; }
  .desktop-sm\:text-lg { font-size: 1.125rem; line-height: 1.75rem; }
}

@media (min-width: 1280px) and (max-width: 1439px) {
  .desktop-md\:w-\[400px\] { width: 400px; }
  .desktop-md\:text-xl { font-size: 1.25rem; line-height: 1.75rem; }
}

@media (min-width: 1440px) and (max-width: 1919px) {
  .desktop-lg\:w-\[420px\] { width: 420px; }
  .desktop-lg\:text-xl { font-size: 1.25rem; line-height: 1.75rem; }
}

@media (min-width: 1920px) {
  .ultra-wide\:w-\[480px\] { width: 480px; }
  .ultra-wide\:text-2xl { font-size: 1.5rem; line-height: 2rem; }
  .ultra-wide\:p-8 { padding: 2rem; }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .reduce-motion-safe {
    animation: none !important;
    transition: none !important;
  }
  
  .transition-transform {
    transition: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .high-contrast\:border-2 {
    border-width: 2px;
  }
  
  .high-contrast\:bg-black {
    background-color: black;
  }
  
  .high-contrast\:text-white {
    color: white;
  }
}
