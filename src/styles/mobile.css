
@layer utilities {
  /* Mobile-specific optimizations */
  .mobile-safe-area {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Touch targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
  }

  /* Improved tap highlights */
  .touch-optimized {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Mobile scrolling improvements */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Prevent zoom on input focus */
  @media screen and (max-width: 768px) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    textarea,
    select {
      font-size: 16px !important;
    }
  }

  /* Mobile navigation improvements */
  .mobile-nav-spacing {
    padding-bottom: 4rem;
  }

  /* Better mobile card spacing */
  .mobile-card-spacing {
    @apply p-4 m-2;
  }

  /* Mobile-optimized button groups */
  .mobile-button-group {
    @apply flex flex-col gap-3;
  }

  .mobile-button-group .btn {
    @apply w-full justify-center;
  }

  /* Swipe gesture areas */
  .swipe-area {
    touch-action: pan-x pan-y;
  }

  /* Better mobile focus styles */
  .mobile-focus {
    @apply focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:outline-none;
  }

  /* Improved mobile dropdown positioning */
  .mobile-dropdown {
    @apply bottom-0 left-0 right-0 top-auto;
    transform: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .high-contrast {
    border-width: 2px;
    font-weight: 600;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .reduce-motion * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
